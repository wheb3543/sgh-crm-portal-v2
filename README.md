# Ø¨ÙˆØ§Ø¨Ø© Ø¥Ø¯Ø§Ø±Ø© Ø­Ù…Ù„Ø§Øª Ø§Ù„ØªØ³ÙˆÙŠÙ‚ - Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠ - ØµÙ†Ø¹Ø§Ø¡
# Saudi German Hospital - Sana'a Marketing Portal

<div align="center">

![Saudi German Hospital](client/public/SGHHospitalColorBilingual.png)

**Ù†Ø¸Ø§Ù… Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…ØªÙƒØ§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø­Ù…Ù„Ø§Øª Ø§Ù„ØªØ³ÙˆÙŠÙ‚ ÙˆØ¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡**

**Integrated Digital Portal for Marketing Campaign Management and Customer Relations**

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node.js Version](https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen)](https://nodejs.org/)
[![React](https://img.shields.io/badge/React-19-blue)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue)](https://www.typescriptlang.org/)

[Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©](#arabic) | [English](#english)

</div>

---

<a name="arabic"></a>

## ğŸ“‹ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ù†Ø¸Ø§Ù… Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…ØªÙƒØ§Ù…Ù„ ØªÙ… ØªØ·ÙˆÙŠØ±Ù‡ Ø®ØµÙŠØµØ§Ù‹ Ù„Ù„Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠ - ØµÙ†Ø¹Ø§Ø¡ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø­Ù…Ù„Ø§Øª Ø§Ù„ØªØ³ÙˆÙŠÙ‚ Ø§Ù„Ø·Ø¨ÙŠØ© ÙˆØ¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡. ÙŠÙˆÙØ± Ø§Ù„Ù†Ø¸Ø§Ù… ØµÙØ­Ø§Øª Ù‡Ø¨ÙˆØ· Ø§Ø­ØªØ±Ø§ÙÙŠØ©ØŒ Ù†Ø¸Ø§Ù… Ø­Ø¬Ø² Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡ØŒ ÙˆÙ„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø¥Ø¯Ø§Ø±ÙŠØ© Ø´Ø§Ù…Ù„Ø© (Mini-CRM) Ù…Ø¹ ØªÙƒØ§Ù…Ù„Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©.

### âœ¨ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

#### ğŸ¯ ØµÙØ­Ø§Øª Ø§Ù„Ù‡Ø¨ÙˆØ·
- **ØµÙØ­Ø© Ø§Ù„Ù…Ø®ÙŠÙ… Ø§Ù„Ø·Ø¨ÙŠ Ø§Ù„Ø®ÙŠØ±ÙŠ**: Ù†Ù…ÙˆØ°Ø¬ ØªØ³Ø¬ÙŠÙ„ Ø§Ø­ØªØ±Ø§ÙÙŠ Ù…Ø¹ ØªØªØ¨Ø¹ UTM parameters
- **ØµÙØ­Ø© Ø­Ø¬Ø² Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡**: Ø¹Ø±Ø¶ 22 Ø·Ø¨ÙŠØ¨ Ù…Ø¹ ØµÙˆØ±Ù‡Ù… ÙˆØªØ®ØµØµØ§ØªÙ‡Ù… ÙˆÙ†Ø¸Ø§Ù… Ø­Ø¬Ø² Ù…ØªÙƒØ§Ù…Ù„
- **ØªØµÙ…ÙŠÙ… Ù…ØªØ¬Ø§ÙˆØ¨**: ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ù…Ø«Ø§Ù„ÙŠ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© (Ù‡ÙˆØ§ØªÙØŒ Ø£Ø¬Ù‡Ø²Ø© Ù„ÙˆØ­ÙŠØ©ØŒ Ø£Ø¬Ù‡Ø²Ø© Ù…ÙƒØªØ¨ÙŠØ©)
- **Ù‡ÙˆÙŠØ© Ø¨ØµØ±ÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø©**: ØªØµÙ…ÙŠÙ… Ø§Ø­ØªØ±Ø§ÙÙŠ ÙŠØªÙ…Ø§Ø´Ù‰ Ù…Ø¹ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø¨ØµØ±ÙŠØ© Ù„Ù„Ù…Ø³ØªØ´ÙÙ‰

#### ğŸ›ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© (Mini-CRM)
- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ†**: Ø¹Ø±Ø¶ ÙˆØªØªØ¨Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ† ÙÙŠ Ø§Ù„Ø­Ù…Ù„Ø§Øª
- **Ø¥Ø¯Ø§Ø±Ø© Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡**: Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø¬Ù…ÙŠØ¹ Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯
- **ØªØªØ¨Ø¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª**: Ù†Ø¸Ø§Ù… Ù…ØªÙ‚Ø¯Ù… Ù„ØªØªØ¨Ø¹ Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ (Ø¬Ø¯ÙŠØ¯ØŒ ØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ØŒ ØªÙ… Ø§Ù„Ø­Ø¬Ø²ØŒ ØºÙŠØ± Ù…Ù‡ØªÙ…ØŒ Ù„Ù… ÙŠØ±Ø¯)
- **Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©**: Ø¨Ø·Ø§Ù‚Ø§Øª Ø¥Ø­ØµØ§Ø¦ÙŠØ© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ Ø±Ø³ÙˆÙ… Ø¨ÙŠØ§Ù†ÙŠØ©
- **Ø¨Ø­Ø« ÙˆÙÙ„ØªØ±Ø© Ù…ØªÙ‚Ø¯Ù…Ø©**: Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ù…Ø¹Ø§ÙŠÙŠØ± Ù…ØªØ¹Ø¯Ø¯Ø©
- **Ù†Ø¸Ø§Ù… ØµÙ„Ø§Ø­ÙŠØ§Øª**: OAuth authentication Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØªØµØ±ÙŠØ­ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø¬Ø¯Ø¯

#### ğŸ”— Ø§Ù„ØªÙƒØ§Ù…Ù„Ø§Øª
- **Meta Pixel & Conversion API**: ØªØªØ¨Ø¹ Ø¯Ù‚ÙŠÙ‚ Ù„Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª ÙˆØ§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø¹Ù„Ù‰ Facebook
- **WhatsApp Business API**: Ø±Ø³Ø§Ø¦Ù„ ØªØ±Ø­ÙŠØ¨ ØªÙ„Ù‚Ø§Ø¦ÙŠØ© ÙˆØ±Ø³Ø§Ø¦Ù„ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²
- **Email Notifications**: Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙÙˆØ±ÙŠØ© Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© ÙˆØ§Ù„Ø¹Ù…Ù„Ø§Ø¡
- **UTM Tracking**: ØªØªØ¨Ø¹ Ù…ØµØ§Ø¯Ø± Ø§Ù„Ø­Ù…Ù„Ø§Øª Ø§Ù„ØªØ³ÙˆÙŠÙ‚ÙŠØ©

### ğŸ› ï¸ Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©

#### Frontend
- **React 19** - Ù…ÙƒØªØ¨Ø© ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- **TypeScript** - Ù„ØºØ© Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©
- **Tailwind CSS 4** - Ø¥Ø·Ø§Ø± Ø¹Ù…Ù„ Ø§Ù„ØªØµÙ…ÙŠÙ…
- **TanStack Query** - Ø¥Ø¯Ø§Ø±Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- **Wouter** - Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ (Routing)
- **Lucide React** - Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª
- **shadcn/ui** - Ù…ÙƒÙˆÙ†Ø§Øª ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

#### Backend
- **Node.js** - Ø¨ÙŠØ¦Ø© Ø§Ù„ØªØ´ØºÙŠÙ„
- **Express.js** - Ø¥Ø·Ø§Ø± Ø¹Ù…Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…
- **tRPC** - Type-safe API
- **Drizzle ORM** - Ø¥Ø¯Ø§Ø±Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### Database
- **MySQL/TiDB** - Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

#### Authentication
- **Manus OAuth** - Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©

### ğŸ“¦ Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª

- Node.js >= 18.0.0
- pnpm >= 8.0.0
- MySQL/TiDB database

### ğŸš€ Ø§Ù„ØªØ«Ø¨ÙŠØª ÙˆØ§Ù„ØªØ´ØºÙŠÙ„

#### 1. Ø§Ø³ØªÙ†Ø³Ø§Ø® Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹

```bash
git clone https://github.com/abood22828/sgh-crm-portal.git
cd sgh-crm-portal
```

#### 2. ØªØ«Ø¨ÙŠØª Ø§Ù„Ø­Ø²Ù…

```bash
pnpm install
```

#### 3. Ø¥Ø¹Ø¯Ø§Ø¯ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©

Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù `.env` ÙÙŠ Ø§Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙˆØ£Ø¶Ù Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©:

```env
# Database
DATABASE_URL=mysql://user:password@host:port/database

# OAuth
JWT_SECRET=your-jwt-secret
OAUTH_SERVER_URL=https://api.manus.im
VITE_OAUTH_PORTAL_URL=https://portal.manus.im
VITE_APP_ID=your-app-id
OWNER_OPEN_ID=your-owner-openid
OWNER_NAME=your-name

# Meta Pixel & Conversion API
VITE_META_PIXEL_ID=2008380493273171
META_ACCESS_TOKEN=your-meta-access-token

# WhatsApp Business API
WHATSAPP_ACCESS_TOKEN=your-whatsapp-token
WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id

# App Configuration
VITE_APP_TITLE=Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠ - ØµÙ†Ø¹Ø§Ø¡
VITE_APP_LOGO=/SGHHospitalColorBilingual.png
```

#### 4. Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```bash
# Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
pnpm db:push

# (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) Ù…Ù„Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
pnpm db:seed
```

#### 5. ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```bash
# ÙˆØ¶Ø¹ Ø§Ù„ØªØ·ÙˆÙŠØ±
pnpm dev

# ÙˆØ¶Ø¹ Ø§Ù„Ø¥Ù†ØªØ§Ø¬
pnpm build
pnpm start
```

Ø³ÙŠØ¹Ù…Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù„Ù‰ `http://localhost:3000`

### ğŸ“ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```
sgh-crm-portal/
â”œâ”€â”€ client/                 # Frontend application
â”‚   â”œâ”€â”€ public/            # Static assets
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ pages/         # Page components
â”‚       â”œâ”€â”€ components/    # Reusable components
â”‚       â”œâ”€â”€ lib/           # Utilities and configurations
â”‚       â””â”€â”€ App.tsx        # Main app component
â”œâ”€â”€ server/                # Backend application
â”‚   â”œâ”€â”€ routers.ts         # tRPC routers
â”‚   â”œâ”€â”€ db.ts              # Database functions
â”‚   â”œâ”€â”€ email.ts           # Email service
â”‚   â”œâ”€â”€ whatsapp.ts        # WhatsApp service
â”‚   â””â”€â”€ facebookConversion.ts  # Facebook Conversion API
â”œâ”€â”€ drizzle/               # Database schema and migrations
â”‚   â””â”€â”€ schema.ts          # Database schema
â”œâ”€â”€ shared/                # Shared types and constants
â””â”€â”€ docs/                  # Documentation
```

### ğŸ¨ Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

#### ØµÙØ­Ø§Øª Ø¹Ø§Ù…Ø©
- `/` - Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (ØµÙØ­Ø© Ù‡Ø¨ÙˆØ· Ø§Ù„Ù…Ø®ÙŠÙ… Ø§Ù„Ø·Ø¨ÙŠ)
- `/thank-you` - ØµÙØ­Ø© Ø§Ù„Ø´ÙƒØ± Ø¨Ø¹Ø¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„
- `/doctors` - ØµÙØ­Ø© Ø­Ø¬Ø² Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡
- `/doctors/thank-you` - ØµÙØ­Ø© Ø§Ù„Ø´ÙƒØ± Ø¨Ø¹Ø¯ Ø­Ø¬Ø² Ø§Ù„Ù…ÙˆØ¹Ø¯

#### ØµÙØ­Ø§Øª Ø¥Ø¯Ø§Ø±ÙŠØ© (ØªØªØ·Ù„Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„)
- `/admin` - Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
  - **Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ†**: Ø¥Ø¯Ø§Ø±Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
  - **Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡**: Ø¥Ø¯Ø§Ø±Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯
  - **Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØªØµØ±ÙŠØ­**: Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø£Ùˆ Ø±ÙØ¶ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø¬Ø¯Ø¯

### ğŸ” Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª

#### Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† Ø§Ù„Ù…ØµØ±Ø­ Ù„Ù‡Ù…
- ÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¹Ø¨Ø± OAuth
- ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- ÙŠÙ…ÙƒÙ† Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠÙ† Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØªØµØ±ÙŠØ­ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©

#### Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
- **Admin**: ØµÙ„Ø§Ø­ÙŠØ§Øª ÙƒØ§Ù…Ù„Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
- **User**: ØµÙ„Ø§Ø­ÙŠØ§Øª Ù…Ø­Ø¯ÙˆØ¯Ø© Ù„Ù„Ø¹Ø±Ø¶ ÙÙ‚Ø·

### ğŸ“Š Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
- `users` - Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…ØµØ±Ø­ Ù„Ù‡Ù…
- `campaigns` - Ø§Ù„Ø­Ù…Ù„Ø§Øª Ø§Ù„ØªØ³ÙˆÙŠÙ‚ÙŠØ©
- `leads` - Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ†
- `appointments` - Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡
- `doctors` - Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡
- `accessRequests` - Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØªØµØ±ÙŠØ­
- `leadStatusHistory` - Ø³Ø¬Ù„ ØªØºÙŠÙŠØ±Ø§Øª Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡

### ğŸ”§ Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…ØªØ§Ø­Ø©

```bash
# Development
pnpm dev              # ØªØ´ØºÙŠÙ„ ÙˆØ¶Ø¹ Ø§Ù„ØªØ·ÙˆÙŠØ±
pnpm build            # Ø¨Ù†Ø§Ø¡ Ù„Ù„Ø¥Ù†ØªØ§Ø¬
pnpm start            # ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¥Ù†ØªØ§Ø¬

# Database
pnpm db:push          # Ø¯ÙØ¹ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø¥Ù„Ù‰ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
pnpm db:studio        # ÙØªØ­ Drizzle Studio

# Code Quality
pnpm lint             # ÙØ­Øµ Ø§Ù„ÙƒÙˆØ¯
pnpm type-check       # ÙØ­Øµ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹
```

### ğŸ¤ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©

Ù†Ø±Ø­Ø¨ Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø§Øª! ÙŠØ±Ø¬Ù‰ Ù‚Ø±Ø§Ø¡Ø© [Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©](CONTRIBUTING.md) Ù‚Ø¨Ù„ Ø§Ù„Ø¨Ø¯Ø¡.

### ğŸ“ Ø§Ù„ØªØ±Ø®ÙŠØµ

Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…Ø±Ø®Øµ ØªØ­Øª [MIT License](LICENSE).

### ğŸ‘¥ Ø§Ù„ÙØ±ÙŠÙ‚

- **Ø§Ù„ØªØ·ÙˆÙŠØ±**: Abdullkwy Alhatef
- **Ø§Ù„Ø¹Ù…ÙŠÙ„**: Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠ - ØµÙ†Ø¹Ø§Ø¡

### ğŸ“ Ø§Ù„Ø¯Ø¹Ù…

Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ø¹Ù…ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø±:
- Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ: abood22828@gmail.com
- GitHub Issues: [Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´ÙƒÙ„Ø© Ø¬Ø¯ÙŠØ¯Ø©](https://github.com/abood22828/sgh-crm-portal/issues)

### ğŸ™ Ø´ÙƒØ± ÙˆØªÙ‚Ø¯ÙŠØ±

- Ø´ÙƒØ±Ø§Ù‹ Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠ - ØµÙ†Ø¹Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„Ø«Ù‚Ø© ÙˆØ§Ù„ØªØ¹Ø§ÙˆÙ†
- Ø´ÙƒØ±Ø§Ù‹ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…ÙŠÙ† ÙÙŠ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ù…ÙØªÙˆØ­Ø© Ø§Ù„Ù…ØµØ¯Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©

---

<a name="english"></a>

## ğŸ“‹ Overview

An integrated digital portal developed specifically for Saudi German Hospital - Sana'a to manage medical marketing campaigns and customer relations. The system provides professional landing pages, doctor appointment booking system, and a comprehensive admin dashboard (Mini-CRM) with advanced integrations.

### âœ¨ Key Features

#### ğŸ¯ Landing Pages
- **Charitable Medical Camp Page**: Professional registration form with UTM tracking
- **Doctor Appointment Booking Page**: Display of 22 doctors with photos, specializations, and integrated booking system
- **Responsive Design**: Works perfectly on all devices (mobile, tablet, desktop)
- **Complete Brand Identity**: Professional design aligned with hospital's brand guidelines

#### ğŸ›ï¸ Admin Dashboard (Mini-CRM)
- **Customer Management**: View and track all registered customers
- **Appointment Management**: View and manage all doctor appointments
- **Status Tracking**: Advanced system for tracking customer status (new, contacted, booked, not interested, no answer)
- **Comprehensive Statistics**: Statistical cards for all data with charts
- **Advanced Search & Filtering**: Search and filter by multiple criteria
- **Permission System**: OAuth authentication with access request system for new users

#### ğŸ”— Integrations
- **Meta Pixel & Conversion API**: Accurate tracking for conversions and Facebook ads
- **WhatsApp Business API**: Automatic welcome messages and booking confirmations
- **Email Notifications**: Instant email notifications for admin and customers
- **UTM Tracking**: Track marketing campaign sources

### ğŸ› ï¸ Tech Stack

#### Frontend
- **React 19** - UI library
- **TypeScript** - Programming language
- **Tailwind CSS 4** - Styling framework
- **TanStack Query** - Data state management
- **Wouter** - Routing
- **Lucide React** - Icons
- **shadcn/ui** - UI components

#### Backend
- **Node.js** - Runtime environment
- **Express.js** - Server framework
- **tRPC** - Type-safe API
- **Drizzle ORM** - Database management

#### Database
- **MySQL/TiDB** - Primary database

#### Authentication
- **Manus OAuth** - Authentication system

### ğŸ“¦ Requirements

- Node.js >= 18.0.0
- pnpm >= 8.0.0
- MySQL/TiDB database

### ğŸš€ Installation & Setup

#### 1. Clone Repository

```bash
git clone https://github.com/abood22828/sgh-crm-portal.git
cd sgh-crm-portal
```

#### 2. Install Dependencies

```bash
pnpm install
```

#### 3. Configure Environment Variables

Create a `.env` file in the root directory and add the following variables:

```env
# Database
DATABASE_URL=mysql://user:password@host:port/database

# OAuth
JWT_SECRET=your-jwt-secret
OAUTH_SERVER_URL=https://api.manus.im
VITE_OAUTH_PORTAL_URL=https://portal.manus.im
VITE_APP_ID=your-app-id
OWNER_OPEN_ID=your-owner-openid
OWNER_NAME=your-name

# Meta Pixel & Conversion API
VITE_META_PIXEL_ID=2008380493273171
META_ACCESS_TOKEN=your-meta-access-token

# WhatsApp Business API
WHATSAPP_ACCESS_TOKEN=your-whatsapp-token
WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id

# App Configuration
VITE_APP_TITLE=Saudi German Hospital - Sana'a
VITE_APP_LOGO=/SGHHospitalColorBilingual.png
```

#### 4. Setup Database

```bash
# Create tables
pnpm db:push

# (Optional) Seed initial data
pnpm db:seed
```

#### 5. Run Project

```bash
# Development mode
pnpm dev

# Production mode
pnpm build
pnpm start
```

The application will run on `http://localhost:3000`

### ğŸ“ Project Structure

```
sgh-crm-portal/
â”œâ”€â”€ client/                 # Frontend application
â”‚   â”œâ”€â”€ public/            # Static assets
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ pages/         # Page components
â”‚       â”œâ”€â”€ components/    # Reusable components
â”‚       â”œâ”€â”€ lib/           # Utilities and configurations
â”‚       â””â”€â”€ App.tsx        # Main app component
â”œâ”€â”€ server/                # Backend application
â”‚   â”œâ”€â”€ routers.ts         # tRPC routers
â”‚   â”œâ”€â”€ db.ts              # Database functions
â”‚   â”œâ”€â”€ email.ts           # Email service
â”‚   â”œâ”€â”€ whatsapp.ts        # WhatsApp service
â”‚   â””â”€â”€ facebookConversion.ts  # Facebook Conversion API
â”œâ”€â”€ drizzle/               # Database schema and migrations
â”‚   â””â”€â”€ schema.ts          # Database schema
â”œâ”€â”€ shared/                # Shared types and constants
â””â”€â”€ docs/                  # Documentation
```

### ğŸ¨ Main Pages

#### Public Pages
- `/` - Home page (Medical camp landing page)
- `/thank-you` - Thank you page after registration
- `/doctors` - Doctor appointment booking page
- `/doctors/thank-you` - Thank you page after booking

#### Admin Pages (Login required)
- `/admin` - Main dashboard
  - **Registered Customers**: Manage all customers
  - **Doctor Appointments**: Manage all appointments
  - **Access Requests**: Approve or reject new user requests

### ğŸ” Permission System

#### Authorized Users
- Users are verified via OAuth
- Email must exist in database
- Admins can approve new access requests

#### Roles
- **Admin**: Full system management permissions
- **User**: Limited view-only permissions

### ğŸ“Š Database

#### Main Tables
- `users` - Authorized users
- `campaigns` - Marketing campaigns
- `leads` - Registered customers
- `appointments` - Doctor appointments
- `doctors` - Doctor data
- `accessRequests` - Access requests
- `leadStatusHistory` - Customer status change history

### ğŸ”§ Available Commands

```bash
# Development
pnpm dev              # Run development mode
pnpm build            # Build for production
pnpm start            # Run production

# Database
pnpm db:push          # Push changes to database
pnpm db:studio        # Open Drizzle Studio

# Code Quality
pnpm lint             # Lint code
pnpm type-check       # Type check
```

### ğŸ¤ Contributing

We welcome all contributions! Please read the [Contributing Guide](CONTRIBUTING.md) before starting.

### ğŸ“ License

This project is licensed under the [MIT License](LICENSE).

### ğŸ‘¥ Team

- **Development**: Manus AI
- **Client**: Saudi German Hospital - Sana'a

### ğŸ“ Support

For support, please contact:
- Email: abood22828@gmail.com
- GitHub Issues: [Create new issue](https://github.com/abood22828/sgh-crm-portal/issues)

### ğŸ™ Acknowledgments

- Thanks to Saudi German Hospital - Sana'a team for their trust and cooperation
- Thanks to all contributors of open-source projects used

---

<div align="center">

**Ù†Ø±Ø¹Ø§ÙƒÙ… ÙƒØ£Ù‡Ø§Ù„ÙŠÙ†Ø§ - Caring like family**

Made with â¤ï¸ by Abdullkwy Alhatef

</div>
